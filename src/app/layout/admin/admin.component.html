<script type="text/javascript" src="shim.min.js"></script>
<script type="text/javascript" src="xlsx.full.min.js"></script>
<div [@routerTransition]>
  <app-page-header [heading]="'Admin'" [icon]="'fa fa-fw fa-gear'"></app-page-header>

  <button type="button" class="btn btn-secondary margin_button" (click)="toggle()" id="bt">
    {{buttonName}}
  </button>
  <button type="button" class="btn btn-secondary margin_button" (click)="toggle_stat()" id="bt2">
    {{buttonName2}}
  </button>
  <button type="button" class="btn btn-secondary margin_button" (click)="toggle_camp()" id="bt3">
    {{buttonName3}}
  </button>
  <br>
  <hr class="style18">


  <ng-container *ngIf="show">
    <div class="col-md-9">
      <form #form>
        <div *ngIf="files_uploaded === 0">
          <!-- <input type="file" class="form-control-file mt-3" placeholder="File Name" name="filename" (change)="upload($event.target.files)"
            accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" /> -->

          <input type="file" class="form-control-file mt-3" placeholder="File Name" name="filename" (change)="xlstoJson($event)"
            accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" />

          <div class="progress mt-3" style="height:40px;">
            <div id="trainingProgressBar" class="progress-bar 
                progress-bar-success progress-bar-striped bg-warning active"
              role="progressbar" aria-valuemin="0" aria-valuemax="100" [attr.aria-valuenow]="percentDone"
              [style.width.%]="percentDone">
              {{percentDone}}
            </div>
          </div>
        </div>

        <label *ngIf="inProgress">
          Progression: {{percentDone}}% <br /></label>
      </form>
      <ng-container>
        <div *ngIf="inProgress">
          <p id="status_bytes">{{bytesDone | number:'3.0'}}Ko uploadé sur {{totalBytes | number:'3.0'}}Ko</p>
        </div>
      </ng-container>
      <ng-container *ngIf="uploadSuccess" class="mt-3">
        <p class="font-weight-bold text-success">Téléchargement terminé avec succès !</p>
      </ng-container>
      <div class="container-info">
        <label>
          Fichier téléchargé:
          <span id="uploadedFiles">{{files_uploaded}}</span>
        </label>
      </div>
      <div *ngIf="activate_table">
        <div class="col col-xl-9 col-lg-12" style="padding:0px">
          <div class="card mb-3">
            <table class="table table-hover">
              <thead class="thead-dark">
                <tr>
                  <th scope="col">Nom</th>
                  <th scope="col">Taille</th>
                  <th scope="col">Date de dernière modification</th>
                </tr>
              </thead>
              <tr class="table" id="displayTable" *ngFor="let file of file_list">
                <td class="tableau"> {{file.name}}</td>
                <td class="tableau"> {{file.size| number:'3.'}} Ko</td>
                <td class="tableau"> {{file.lastModifiedDate | date:'medium'}}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="form-group mt-3" style="width:220px;">
        <button type="submit" class="btn btn-primary pull-right" (click)="posthere()">Confirmer</button>
        <button type="reset" class="btn btn-danger" (click)="reset()">Supprimer</button>
      </div>
    </div>
    <br>
    <hr class="style18">
  </ng-container>

  <ng-container *ngIf="show_stat">
    <div class="row">
      <div class="col col-sm-6">
        <div class="card mb-3">
          <div class="card-header">
            Suivi des stages
          </div>
          <div class="card-body">
            <canvas baseChart height="180px" [data]="doughnutChartData" [labels]="doughnutChartLabels" [chartType]="doughnutChartType"
              (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
            </canvas>
          </div>
        </div>
      </div>
      <div class="col col-sm-6">
        <div class="card mb-3">
          <div class="card-header">
            Nombre de stagiaires par professeur
          </div>
          <div class="card-body">
            <canvas baseChart [data]="barChartData" [labels]="barChartLabels"  [legend]="barChartLegend"
              [chartType]="barChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
            </canvas>
          </div>
        </div>
      </div>
    </div>
    <br>
    <hr class="style18">
  </ng-container>



  <ng-container *ngIf="show_camp">

    <div _ngcontent-c3="" class="row col-md-10">
      <div _ngcontent-c3="" class="col-md-10">
        <div _ngcontent-c3="" class="card">
          <div _ngcontent-c3="" class="card-header"> <h5>Choix des semestres</h5></div>
          <div _ngcontent-c3="" class="card-body" style="width: 1000px;">
                
                <div class="btn-group" data-toggle="buttons">
                  
                  <label class="btn btn-success btn-lg">
                    <input type="checkbox" autocomplete="off"> Semestre 2
                    <span class="glyphicon glyphicon-ok"></span>
                  </label>
            
                  <label class="btn btn-warning btn-lg">
                    <input type="checkbox" autocomplete="off"> Semestre 4
                    <span class="glyphicon glyphicon-ok"></span>
                  </label>			
                
                  <label class="btn btn-info btn-lg">
                    <input type="checkbox" autocomplete="off"> Semestre 8
                    <span class="glyphicon glyphicon-ok"></span>
                  </label>			
                
                  <label class="btn btn-dark btn-lg">
                    <input type="checkbox" autocomplete="off"> Semestre 10
                    <span class="glyphicon glyphicon-ok"></span>
                  </label>			
            
                  <label class="btn btn-danger btn-lg">
                    <input type="checkbox" autocomplete="off"> Contrat Pro
                    <span class="glyphicon glyphicon-ok"></span>
                  </label>		
                
                </div>

                <button type="button" class="btn btn-primary pull-right btn-lg">Valider</button>

          </div>
        </div>
      </div>
    </div>

    <br>
    <hr class="style18">

    <div>
      <div class="col col-xl-9 col-lg-12" style="padding:0px">

        <div class="card mb-3">
          <table class="table table-hover">
            <thead class="thead-dark">
              <tr>
                <th scope="col">Prénom</th>
                <th scope="col">Nom</th>
                <th scope="col">Sujet</th>
              </tr>
            </thead>
            <tr class="table" id="displayTable" *ngFor="let entreprise of entrepriseFiltered">
              <td class="tableau"> {{entreprise.nom}}</td>
              <td class="tableau"> {{entreprise.pays}}</td>
              <td class="tableau"> {{entreprise.ville}}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <br>
    <hr class="style18">


  </ng-container>
  <script lang="javascript" src="dist/xlsx.full.min.js"></script>
</div>